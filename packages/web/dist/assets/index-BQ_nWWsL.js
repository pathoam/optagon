import{o as Pt}from"./clerk-B6UnHhKw.js";import{r as Ot,a as Lt,b as Tt}from"./xterm-DtuKHb5T.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();const C={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return ze(this.context.count)},getNextContextId(){return ze(this.context.count++)}};function ze(e){const t=String(e),n=t.length-1;return C.context.id+(n?String.fromCharCode(96+n):"")+t}function te(e){C.context=e}const It=!1,Rt=(e,t)=>e===t,be=Symbol("solid-proxy"),st=typeof Proxy=="function",Nt=Symbol("solid-track"),we={equals:Rt};let it=ft;const W=1,ne=2,ot={owned:null,cleanups:null,context:null,owner:null};var S=null;let g=null,Ft=null,A=null,D=null,j=null,$e=0;function G(e,t){const n=A,s=S,r=e.length===0,i=t===void 0?s:t,o=r?ot:{owned:null,cleanups:null,context:i?i.context:null,owner:i},l=r?e:()=>e(()=>U(()=>q(o)));S=o,A=null;try{return K(l,!0)}finally{A=n,S=s}}function F(e,t){t=t?Object.assign({},we,t):we;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},s=r=>(typeof r=="function"&&(g&&g.running&&g.sources.has(n)?r=r(n.tValue):r=r(n.value)),ut(n,r));return[ct.bind(n),s]}function B(e,t,n){const s=Fe(e,t,!1,W);ce(s)}function jt(e,t,n){it=Wt;const s=Fe(e,t,!1,W),r=re&&ae(re);r&&(s.suspense=r),s.user=!0,j?j.push(s):ce(s)}function L(e,t,n){n=n?Object.assign({},we,n):we;const s=Fe(e,t,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=n.equals||void 0,ce(s),ct.bind(s)}function Dt(e){return K(e,!1)}function U(e){if(A===null)return e();const t=A;A=null;try{return e()}finally{A=t}}function Ie(e,t,n){const s=Array.isArray(e);let r,i=n&&n.defer;return o=>{let l;if(s){l=Array(e.length);for(let f=0;f<e.length;f++)l[f]=e[f]()}else l=e();if(i)return i=!1,o;const a=U(()=>t(l,r,o));return r=l,a}}function Re(e){jt(()=>U(e))}function le(e){return S===null||(S.cleanups===null?S.cleanups=[e]:S.cleanups.push(e)),e}function Ne(){return S}function lt(e,t){const n=S,s=A;S=e,A=null;try{return K(t,!0)}catch(r){je(r)}finally{S=n,A=s}}function Mt(e){if(g&&g.running)return e(),g.done;const t=A,n=S;return Promise.resolve().then(()=>{A=t,S=n;let s;return re&&(s=g||(g={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),s.done||(s.done=new Promise(r=>s.resolve=r)),s.running=!0),K(e,!1),A=S=null,s?s.done:void 0})}const[ss,He]=F(!1);function Bt(e){j.push.apply(j,e),e.length=0}function Se(e,t){const n=Symbol("context");return{id:n,Provider:qt(n),defaultValue:e}}function ae(e){let t;return S&&S.context&&(t=S.context[e.id])!==void 0?t:e.defaultValue}function at(e){const t=L(e),n=L(()=>Pe(t()));return n.toArray=()=>{const s=n();return Array.isArray(s)?s:s!=null?[s]:[]},n}let re;function Ut(){return re||(re=Se())}function ct(){const e=g&&g.running;if(this.sources&&(e?this.tState:this.state))if((e?this.tState:this.state)===W)ce(this);else{const t=D;D=null,K(()=>xe(this),!1),D=t}if(A){const t=this.observers?this.observers.length:0;A.sources?(A.sources.push(this),A.sourceSlots.push(t)):(A.sources=[this],A.sourceSlots=[t]),this.observers?(this.observers.push(A),this.observerSlots.push(A.sources.length-1)):(this.observers=[A],this.observerSlots=[A.sources.length-1])}return e&&g.sources.has(this)?this.tValue:this.value}function ut(e,t,n){let s=g&&g.running&&g.sources.has(e)?e.tValue:e.value;if(!e.comparator||!e.comparator(s,t)){if(g){const r=g.running;(r||!n&&g.sources.has(e))&&(g.sources.add(e),e.tValue=t),r||(e.value=t)}else e.value=t;e.observers&&e.observers.length&&K(()=>{for(let r=0;r<e.observers.length;r+=1){const i=e.observers[r],o=g&&g.running;o&&g.disposed.has(i)||((o?!i.tState:!i.state)&&(i.pure?D.push(i):j.push(i),i.observers&&dt(i)),o?i.tState=W:i.state=W)}if(D.length>1e6)throw D=[],new Error},!1)}return t}function ce(e){if(!e.fn)return;q(e);const t=$e;Ge(e,g&&g.running&&g.sources.has(e)?e.tValue:e.value,t),g&&!g.running&&g.sources.has(e)&&queueMicrotask(()=>{K(()=>{g&&(g.running=!0),A=S=e,Ge(e,e.tValue,t),A=S=null},!1)})}function Ge(e,t,n){let s;const r=S,i=A;A=S=e;try{s=e.fn(t)}catch(o){return e.pure&&(g&&g.running?(e.tState=W,e.tOwned&&e.tOwned.forEach(q),e.tOwned=void 0):(e.state=W,e.owned&&e.owned.forEach(q),e.owned=null)),e.updatedAt=n+1,je(o)}finally{A=i,S=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ut(e,s,!0):g&&g.running&&e.pure?(g.sources.add(e),e.tValue=s):e.value=s,e.updatedAt=n)}function Fe(e,t,n,s=W,r){const i={fn:e,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:S,context:S?S.context:null,pure:n};return g&&g.running&&(i.state=0,i.tState=s),S===null||S!==ot&&(g&&g.running&&S.pure?S.tOwned?S.tOwned.push(i):S.tOwned=[i]:S.owned?S.owned.push(i):S.owned=[i]),i}function ye(e){const t=g&&g.running;if((t?e.tState:e.state)===0)return;if((t?e.tState:e.state)===ne)return xe(e);if(e.suspense&&U(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<$e);){if(t&&g.disposed.has(e))return;(t?e.tState:e.state)&&n.push(e)}for(let s=n.length-1;s>=0;s--){if(e=n[s],t){let r=e,i=n[s+1];for(;(r=r.owner)&&r!==i;)if(g.disposed.has(r))return}if((t?e.tState:e.state)===W)ce(e);else if((t?e.tState:e.state)===ne){const r=D;D=null,K(()=>xe(e,n[0]),!1),D=r}}}function K(e,t){if(D)return e();let n=!1;t||(D=[]),j?n=!0:j=[],$e++;try{const s=e();return Vt(n),s}catch(s){n||(j=null),D=null,je(s)}}function Vt(e){if(D&&(ft(D),D=null),e)return;let t;if(g){if(!g.promises.size&&!g.queue.size){const s=g.sources,r=g.disposed;j.push.apply(j,g.effects),t=g.resolve;for(const i of j)"tState"in i&&(i.state=i.tState),delete i.tState;g=null,K(()=>{for(const i of r)q(i);for(const i of s){if(i.value=i.tValue,i.owned)for(let o=0,l=i.owned.length;o<l;o++)q(i.owned[o]);i.tOwned&&(i.owned=i.tOwned),delete i.tValue,delete i.tOwned,i.tState=0}He(!1)},!1)}else if(g.running){g.running=!1,g.effects.push.apply(g.effects,j),j=null,He(!0);return}}const n=j;j=null,n.length&&K(()=>it(n),!1),t&&t()}function ft(e){for(let t=0;t<e.length;t++)ye(e[t])}function Wt(e){let t,n=0;for(t=0;t<e.length;t++){const s=e[t];s.user?e[n++]=s:ye(s)}if(C.context){if(C.count){C.effects||(C.effects=[]),C.effects.push(...e.slice(0,n));return}te()}for(C.effects&&(C.done||!C.count)&&(e=[...C.effects,...e],n+=C.effects.length,delete C.effects),t=0;t<n;t++)ye(e[t])}function xe(e,t){const n=g&&g.running;n?e.tState=0:e.state=0;for(let s=0;s<e.sources.length;s+=1){const r=e.sources[s];if(r.sources){const i=n?r.tState:r.state;i===W?r!==t&&(!r.updatedAt||r.updatedAt<$e)&&ye(r):i===ne&&xe(r,t)}}}function dt(e){const t=g&&g.running;for(let n=0;n<e.observers.length;n+=1){const s=e.observers[n];(t?!s.tState:!s.state)&&(t?s.tState=ne:s.state=ne,s.pure?D.push(s):j.push(s),s.observers&&dt(s))}}function q(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),s=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const i=r.pop(),o=n.observerSlots.pop();s<r.length&&(i.sourceSlots[o]=s,r[s]=i,n.observerSlots[s]=o)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)q(e.tOwned[t]);delete e.tOwned}if(g&&g.running&&e.pure)ht(e,!0);else if(e.owned){for(t=e.owned.length-1;t>=0;t--)q(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}g&&g.running?e.tState=0:e.state=0}function ht(e,t){if(t||(e.tState=0,g.disposed.add(e)),e.owned)for(let n=0;n<e.owned.length;n++)ht(e.owned[n])}function Kt(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function je(e,t=S){throw Kt(e)}function Pe(e){if(typeof e=="function"&&!e.length)return Pe(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const s=Pe(e[n]);Array.isArray(s)?t.push.apply(t,s):t.push(s)}return t}return e}function qt(e,t){return function(s){let r;return B(()=>r=U(()=>(S.context={...S.context,[e]:s.value},at(()=>s.children))),void 0),r}}const zt=Symbol("fallback");function Xe(e){for(let t=0;t<e.length;t++)e[t]()}function Ht(e,t,n={}){let s=[],r=[],i=[],o=0,l=t.length>1?[]:null;return le(()=>Xe(i)),()=>{let a=e()||[],f=a.length,c,u;return a[Nt],U(()=>{let d,w,m,b,$,x,P,T,y;if(f===0)o!==0&&(Xe(i),i=[],s=[],r=[],o=0,l&&(l=[])),n.fallback&&(s=[zt],r[0]=G(k=>(i[0]=k,n.fallback())),o=1);else if(o===0){for(r=new Array(f),u=0;u<f;u++)s[u]=a[u],r[u]=G(h);o=f}else{for(m=new Array(f),b=new Array(f),l&&($=new Array(f)),x=0,P=Math.min(o,f);x<P&&s[x]===a[x];x++);for(P=o-1,T=f-1;P>=x&&T>=x&&s[P]===a[T];P--,T--)m[T]=r[P],b[T]=i[P],l&&($[T]=l[P]);for(d=new Map,w=new Array(T+1),u=T;u>=x;u--)y=a[u],c=d.get(y),w[u]=c===void 0?-1:c,d.set(y,u);for(c=x;c<=P;c++)y=s[c],u=d.get(y),u!==void 0&&u!==-1?(m[u]=r[c],b[u]=i[c],l&&($[u]=l[c]),u=w[u],d.set(y,u)):i[c]();for(u=x;u<f;u++)u in m?(r[u]=m[u],i[u]=b[u],l&&(l[u]=$[u],l[u](u))):r[u]=G(h);r=r.slice(0,o=f),s=a.slice(0)}return r});function h(d){if(i[u]=d,l){const[w,m]=F(u);return l[u]=m,t(a[u],w)}return t(a[u])}}}function p(e,t){return U(()=>e(t||{}))}function me(){return!0}const Oe={get(e,t,n){return t===be?n:e.get(t)},has(e,t){return t===be?!0:e.has(t)},set:me,deleteProperty:me,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:me,deleteProperty:me}},ownKeys(e){return e.keys()}};function ke(e){return(e=typeof e=="function"?e():e)?e:{}}function Gt(){for(let e=0,t=this.length;e<t;++e){const n=this[e]();if(n!==void 0)return n}}function Je(...e){let t=!1;for(let o=0;o<e.length;o++){const l=e[o];t=t||!!l&&be in l,e[o]=typeof l=="function"?(t=!0,L(l)):l}if(st&&t)return new Proxy({get(o){for(let l=e.length-1;l>=0;l--){const a=ke(e[l])[o];if(a!==void 0)return a}},has(o){for(let l=e.length-1;l>=0;l--)if(o in ke(e[l]))return!0;return!1},keys(){const o=[];for(let l=0;l<e.length;l++)o.push(...Object.keys(ke(e[l])));return[...new Set(o)]}},Oe);const n={},s=Object.create(null);for(let o=e.length-1;o>=0;o--){const l=e[o];if(!l)continue;const a=Object.getOwnPropertyNames(l);for(let f=a.length-1;f>=0;f--){const c=a[f];if(c==="__proto__"||c==="constructor")continue;const u=Object.getOwnPropertyDescriptor(l,c);if(!s[c])s[c]=u.get?{enumerable:!0,configurable:!0,get:Gt.bind(n[c]=[u.get.bind(l)])}:u.value!==void 0?u:void 0;else{const h=n[c];h&&(u.get?h.push(u.get.bind(l)):u.value!==void 0&&h.push(()=>u.value))}}}const r={},i=Object.keys(s);for(let o=i.length-1;o>=0;o--){const l=i[o],a=s[l];a&&a.get?Object.defineProperty(r,l,a):r[l]=a?a.value:void 0}return r}function Xt(e,...t){const n=t.length;if(st&&be in e){const r=n>1?t.flat():t[0],i=t.map(o=>new Proxy({get(l){return o.includes(l)?e[l]:void 0},has(l){return o.includes(l)&&l in e},keys(){return o.filter(l=>l in e)}},Oe));return i.push(new Proxy({get(o){return r.includes(o)?void 0:e[o]},has(o){return r.includes(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!r.includes(o))}},Oe)),i}const s=[];for(let r=0;r<=n;r++)s[r]={};for(const r of Object.getOwnPropertyNames(e)){let i=n;for(let a=0;a<t.length;a++)if(t[a].includes(r)){i=a;break}const o=Object.getOwnPropertyDescriptor(e,r);!o.get&&!o.set&&o.enumerable&&o.writable&&o.configurable?s[i][r]=o.value:Object.defineProperty(s[i],r,o)}return s}const Jt=e=>`Stale read from <${e}>.`;function Yt(e){const t="fallback"in e&&{fallback:()=>e.fallback};return L(Ht(()=>e.each,e.children,t||void 0))}function R(e){const t=e.keyed,n=L(()=>e.when,void 0,void 0),s=t?n:L(n,void 0,{equals:(r,i)=>!r==!i});return L(()=>{const r=s();if(r){const i=e.children;return typeof i=="function"&&i.length>0?U(()=>i(t?r:()=>{if(!U(s))throw Jt("Show");return n()})):i}return e.fallback},void 0,void 0)}const Qt=Se();function Zt(e){let t=0,n,s,r,i,o;const[l,a]=F(!1),f=Ut(),c={increment:()=>{++t===1&&a(!0)},decrement:()=>{--t===0&&a(!1)},inFallback:l,effects:[],resolved:!1},u=Ne();if(C.context&&C.load){const w=C.getContextId();let m=C.load(w);if(m&&(typeof m!="object"||m.s!==1?r=m:C.gather(w)),r&&r!=="$$f"){const[b,$]=F(void 0,{equals:!1});i=b,r.then(()=>{if(C.done)return $();C.gather(w),te(s),$(),te()},x=>{o=x,$()})}}const h=ae(Qt);h&&(n=h.register(c.inFallback));let d;return le(()=>d&&d()),p(f.Provider,{value:c,get children(){return L(()=>{if(o)throw o;if(s=C.context,i)return i(),i=void 0;s&&r==="$$f"&&te();const w=L(()=>e.children);return L(m=>{const b=c.inFallback(),{showContent:$=!0,showFallback:x=!0}=n?n():{};if((!b||r&&r!=="$$f")&&$)return c.resolved=!0,d&&d(),d=s=r=void 0,Bt(c.effects),w();if(x)return d?m:G(P=>(d=P,s&&(te({id:s.id+"F",count:0}),s=void 0),e.fallback),u)})})}})}const en=["allowfullscreen","async","alpha","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected","adauctionheaders","browsingtopics","credentialless","defaultchecked","defaultmuted","defaultselected","defer","disablepictureinpicture","disableremoteplayback","preservespitch","shadowrootclonable","shadowrootcustomelementregistry","shadowrootdelegatesfocus","shadowrootserializable","sharedstoragewritable"],tn=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline","adAuctionHeaders","allowFullscreen","browsingTopics","defaultChecked","defaultMuted","defaultSelected","disablePictureInPicture","disableRemotePlayback","preservesPitch","shadowRootClonable","shadowRootCustomElementRegistry","shadowRootDelegatesFocus","shadowRootSerializable","sharedStorageWritable",...en]),nn=new Set(["innerHTML","textContent","innerText","children"]),rn=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),sn=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1},adauctionheaders:{$:"adAuctionHeaders",IFRAME:1},allowfullscreen:{$:"allowFullscreen",IFRAME:1},browsingtopics:{$:"browsingTopics",IMG:1},defaultchecked:{$:"defaultChecked",INPUT:1},defaultmuted:{$:"defaultMuted",AUDIO:1,VIDEO:1},defaultselected:{$:"defaultSelected",OPTION:1},disablepictureinpicture:{$:"disablePictureInPicture",VIDEO:1},disableremoteplayback:{$:"disableRemotePlayback",AUDIO:1,VIDEO:1},preservespitch:{$:"preservesPitch",AUDIO:1,VIDEO:1},shadowrootclonable:{$:"shadowRootClonable",TEMPLATE:1},shadowrootdelegatesfocus:{$:"shadowRootDelegatesFocus",TEMPLATE:1},shadowrootserializable:{$:"shadowRootSerializable",TEMPLATE:1},sharedstoragewritable:{$:"sharedStorageWritable",IFRAME:1,IMG:1}});function on(e,t){const n=sn[e];return typeof n=="object"?n[t]?n.$:void 0:n}const ln=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),Z=e=>L(()=>e());function an(e,t,n){let s=n.length,r=t.length,i=s,o=0,l=0,a=t[r-1].nextSibling,f=null;for(;o<r||l<i;){if(t[o]===n[l]){o++,l++;continue}for(;t[r-1]===n[i-1];)r--,i--;if(r===o){const c=i<s?l?n[l-1].nextSibling:n[i-l]:a;for(;l<i;)e.insertBefore(n[l++],c)}else if(i===l)for(;o<r;)(!f||!f.has(t[o]))&&t[o].remove(),o++;else if(t[o]===n[i-1]&&n[l]===t[r-1]){const c=t[--r].nextSibling;e.insertBefore(n[l++],t[o++].nextSibling),e.insertBefore(n[--i],c),t[r]=n[i]}else{if(!f){f=new Map;let u=l;for(;u<i;)f.set(n[u],u++)}const c=f.get(t[o]);if(c!=null)if(l<c&&c<i){let u=o,h=1,d;for(;++u<r&&u<i&&!((d=f.get(t[u]))==null||d!==c+h);)h++;if(h>c-l){const w=t[o];for(;l<c;)e.insertBefore(n[l++],w)}else e.replaceChild(n[l++],t[o++])}else o++;else t[o++].remove()}}}const Ye="_$DX_DELEGATE";function cn(e,t,n,s={}){let r;return G(i=>{r=i,t===document?e():v(t,e(),t.firstChild?null:void 0,n)},s.owner),()=>{r(),t.textContent=""}}function _(e,t,n,s){let r;const i=()=>{const l=document.createElement("template");return l.innerHTML=e,l.content.firstChild},o=()=>(r||(r=i())).cloneNode(!0);return o.cloneNode=o,o}function ue(e,t=window.document){const n=t[Ye]||(t[Ye]=new Set);for(let s=0,r=e.length;s<r;s++){const i=e[s];n.has(i)||(n.add(i),t.addEventListener(i,bn))}}function se(e,t,n){de(e)||(n==null?e.removeAttribute(t):e.setAttribute(t,n))}function un(e,t,n){de(e)||(n?e.setAttribute(t,""):e.removeAttribute(t))}function fe(e,t){de(e)||(t==null?e.removeAttribute("class"):e.className=t)}function fn(e,t,n,s){if(s)Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n;else if(Array.isArray(n)){const r=n[0];e.addEventListener(t,n[0]=i=>r.call(e,n[1],i))}else e.addEventListener(t,n,typeof n!="function"&&n)}function dn(e,t,n={}){const s=Object.keys(t||{}),r=Object.keys(n);let i,o;for(i=0,o=r.length;i<o;i++){const l=r[i];!l||l==="undefined"||t[l]||(Qe(e,l,!1),delete n[l])}for(i=0,o=s.length;i<o;i++){const l=s[i],a=!!t[l];!l||l==="undefined"||n[l]===a||!a||(Qe(e,l,!0),n[l]=a)}return n}function hn(e,t,n){if(!t)return n?se(e,"style"):t;const s=e.style;if(typeof t=="string")return s.cssText=t;typeof n=="string"&&(s.cssText=n=void 0),n||(n={}),t||(t={});let r,i;for(i in n)t[i]==null&&s.removeProperty(i),delete n[i];for(i in t)r=t[i],r!==n[i]&&(s.setProperty(i,r),n[i]=r);return n}function gn(e,t={},n,s){const r={};return B(()=>r.children=ie(e,t.children,r.children)),B(()=>typeof t.ref=="function"&&ve(t.ref,e)),B(()=>mn(e,t,n,!0,r,!0)),r}function ve(e,t,n){return U(()=>e(t,n))}function v(e,t,n,s){if(n!==void 0&&!s&&(s=[]),typeof t!="function")return ie(e,t,s,n);B(r=>ie(e,t(),r,n),s)}function mn(e,t,n,s,r={},i=!1){t||(t={});for(const o in r)if(!(o in t)){if(o==="children")continue;r[o]=Ze(e,o,null,r[o],n,i,t)}for(const o in t){if(o==="children")continue;const l=t[o];r[o]=Ze(e,o,l,r[o],n,i,t)}}function de(e){return!!C.context&&!C.done&&(!e||e.isConnected)}function pn(e){return e.toLowerCase().replace(/-([a-z])/g,(t,n)=>n.toUpperCase())}function Qe(e,t,n){const s=t.trim().split(/\s+/);for(let r=0,i=s.length;r<i;r++)e.classList.toggle(s[r],n)}function Ze(e,t,n,s,r,i,o){let l,a,f,c,u;if(t==="style")return hn(e,n,s);if(t==="classList")return dn(e,n,s);if(n===s)return s;if(t==="ref")i||n(e);else if(t.slice(0,3)==="on:"){const h=t.slice(3);s&&e.removeEventListener(h,s,typeof s!="function"&&s),n&&e.addEventListener(h,n,typeof n!="function"&&n)}else if(t.slice(0,10)==="oncapture:"){const h=t.slice(10);s&&e.removeEventListener(h,s,!0),n&&e.addEventListener(h,n,!0)}else if(t.slice(0,2)==="on"){const h=t.slice(2).toLowerCase(),d=ln.has(h);if(!d&&s){const w=Array.isArray(s)?s[0]:s;e.removeEventListener(h,w)}(d||n)&&(fn(e,h,n,d),d&&ue([h]))}else if(t.slice(0,5)==="attr:")se(e,t.slice(5),n);else if(t.slice(0,5)==="bool:")un(e,t.slice(5),n);else if((u=t.slice(0,5)==="prop:")||(f=nn.has(t))||(c=on(t,e.tagName))||(a=tn.has(t))||(l=e.nodeName.includes("-")||"is"in o)){if(u)t=t.slice(5),a=!0;else if(de(e))return n;t==="class"||t==="className"?fe(e,n):l&&!a&&!f?e[pn(t)]=n:e[c||t]=n}else se(e,rn[t]||t,n);return n}function bn(e){if(C.registry&&C.events&&C.events.find(([a,f])=>f===e))return;let t=e.target;const n=`$$${e.type}`,s=e.target,r=e.currentTarget,i=a=>Object.defineProperty(e,"target",{configurable:!0,value:a}),o=()=>{const a=t[n];if(a&&!t.disabled){const f=t[`${n}Data`];if(f!==void 0?a.call(t,f,e):a.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&i(t.host),!0},l=()=>{for(;o()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),C.registry&&!C.done&&(C.done=_$HY.done=!0),e.composedPath){const a=e.composedPath();i(a[0]);for(let f=0;f<a.length-2&&(t=a[f],!!o());f++){if(t._$host){t=t._$host,l();break}if(t.parentNode===r)break}}else l();i(s)}function ie(e,t,n,s,r){const i=de(e);if(i){!n&&(n=[...e.childNodes]);let a=[];for(let f=0;f<n.length;f++){const c=n[f];c.nodeType===8&&c.data.slice(0,2)==="!$"?c.remove():a.push(c)}n=a}for(;typeof n=="function";)n=n();if(t===n)return n;const o=typeof t,l=s!==void 0;if(e=l&&n[0]&&n[0].parentNode||e,o==="string"||o==="number"){if(i||o==="number"&&(t=t.toString(),t===n))return n;if(l){let a=n[0];a&&a.nodeType===3?a.data!==t&&(a.data=t):a=document.createTextNode(t),n=Q(e,n,s,a)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||o==="boolean"){if(i)return n;n=Q(e,n,s)}else{if(o==="function")return B(()=>{let a=t();for(;typeof a=="function";)a=a();n=ie(e,a,n,s)}),()=>n;if(Array.isArray(t)){const a=[],f=n&&Array.isArray(n);if(Le(a,t,n,r))return B(()=>n=ie(e,a,n,s,!0)),()=>n;if(i){if(!a.length)return n;if(s===void 0)return n=[...e.childNodes];let c=a[0];if(c.parentNode!==e)return n;const u=[c];for(;(c=c.nextSibling)!==s;)u.push(c);return n=u}if(a.length===0){if(n=Q(e,n,s),l)return n}else f?n.length===0?et(e,a,s):an(e,n,a):(n&&Q(e),et(e,a));n=a}else if(t.nodeType){if(i&&t.parentNode)return n=l?[t]:t;if(Array.isArray(n)){if(l)return n=Q(e,n,s,t);Q(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Le(e,t,n,s){let r=!1;for(let i=0,o=t.length;i<o;i++){let l=t[i],a=n&&n[e.length],f;if(!(l==null||l===!0||l===!1))if((f=typeof l)=="object"&&l.nodeType)e.push(l);else if(Array.isArray(l))r=Le(e,l,a)||r;else if(f==="function")if(s){for(;typeof l=="function";)l=l();r=Le(e,Array.isArray(l)?l:[l],Array.isArray(a)?a:[a])||r}else e.push(l),r=!0;else{const c=String(l);a&&a.nodeType===3&&a.data===c?e.push(a):e.push(document.createTextNode(c))}}return r}function et(e,t,n=null){for(let s=0,r=t.length;s<r;s++)e.insertBefore(t[s],n)}function Q(e,t,n,s){if(n===void 0)return e.textContent="";const r=s||document.createTextNode("");if(t.length){let i=!1;for(let o=t.length-1;o>=0;o--){const l=t[o];if(r!==l){const a=l.parentNode===e;!i&&!o?a?e.replaceChild(r,l):e.insertBefore(r,n):a&&l.remove()}else i=!0}}else e.insertBefore(r,n);return[r]}const wn=!1;function gt(){let e=new Set;function t(r){return e.add(r),()=>e.delete(r)}let n=!1;function s(r,i){if(n)return!(n=!1);const o={to:r,options:i,defaultPrevented:!1,preventDefault:()=>o.defaultPrevented=!0};for(const l of e)l.listener({...o,from:l.location,retry:a=>{a&&(n=!0),l.navigate(r,{...i,resolve:!1})}});return!o.defaultPrevented}return{subscribe:t,confirm:s}}let Te;function De(){(!window.history.state||window.history.state._depth==null)&&window.history.replaceState({...window.history.state,_depth:window.history.length-1},""),Te=window.history.state._depth}De();function yn(e){return{...e,_depth:window.history.state&&window.history.state._depth}}function xn(e,t){let n=!1;return()=>{const s=Te;De();const r=s==null?null:Te-s;if(n){n=!1;return}r&&t(r)?(n=!0,window.history.go(-r)):e()}}const vn=/^(?:[a-z0-9]+:)?\/\//i,$n=/^\/+|(\/)\/+$/g,mt="http://sr";function X(e,t=!1){const n=e.replace($n,"$1");return n?t||/^[?#]/.test(n)?n:"/"+n:""}function pe(e,t,n){if(vn.test(t))return;const s=X(e),r=n&&X(n);let i="";return!r||t.startsWith("/")?i=s:r.toLowerCase().indexOf(s.toLowerCase())!==0?i=s+r:i=r,(i||"/")+X(t,!i)}function Sn(e,t){if(e==null)throw new Error(t);return e}function _n(e,t){return X(e).replace(/\/*(\*.*)?$/g,"")+X(t)}function pt(e){const t={};return e.searchParams.forEach((n,s)=>{s in t?Array.isArray(t[s])?t[s].push(n):t[s]=[t[s],n]:t[s]=n}),t}function Cn(e,t,n){const[s,r]=e.split("/*",2),i=s.split("/").filter(Boolean),o=i.length;return l=>{const a=l.split("/").filter(Boolean),f=a.length-o;if(f<0||f>0&&r===void 0&&!t)return null;const c={path:o?"":"/",params:{}},u=h=>n===void 0?void 0:n[h];for(let h=0;h<o;h++){const d=i[h],w=d[0]===":",m=w?a[h]:a[h].toLowerCase(),b=w?d.slice(1):d.toLowerCase();if(w&&Ae(m,u(b)))c.params[b]=m;else if(w||!Ae(m,b))return null;c.path+=`/${m}`}if(r){const h=f?a.slice(-f).join("/"):"";if(Ae(h,u(r)))c.params[r]=h;else return null}return c}}function Ae(e,t){const n=s=>s===e;return t===void 0?!0:typeof t=="string"?n(t):typeof t=="function"?t(e):Array.isArray(t)?t.some(n):t instanceof RegExp?t.test(e):!1}function kn(e){const[t,n]=e.pattern.split("/*",2),s=t.split("/").filter(Boolean);return s.reduce((r,i)=>r+(i.startsWith(":")?2:3),s.length-(n===void 0?0:1))}function bt(e){const t=new Map,n=Ne();return new Proxy({},{get(s,r){return t.has(r)||lt(n,()=>t.set(r,L(()=>e()[r]))),t.get(r)()},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}},ownKeys(){return Reflect.ownKeys(e())},has(s,r){return r in e()}})}function wt(e){let t=/(\/?\:[^\/]+)\?/.exec(e);if(!t)return[e];let n=e.slice(0,t.index),s=e.slice(t.index+t[0].length);const r=[n,n+=t[1]];for(;t=/^(\/\:[^\/]+)\?/.exec(s);)r.push(n+=t[1]),s=s.slice(t[0].length);return wt(s).reduce((i,o)=>[...i,...r.map(l=>l+o)],[])}const An=100,yt=Se(),Me=Se(),he=()=>Sn(ae(yt),"<A> and 'use' router primitives can be only used inside a Route."),En=()=>ae(Me)||he().base,Pn=e=>{const t=En();return L(()=>t.resolvePath(e()))},On=e=>{const t=he();return L(()=>{const n=e();return n!==void 0?t.renderPath(n):n})},Be=()=>he().navigatorFactory(),xt=()=>he().location,Ln=()=>he().params;function Tn(e,t=""){const{component:n,preload:s,load:r,children:i,info:o}=e,l=!i||Array.isArray(i)&&!i.length,a={key:e,component:n,preload:s||r,info:o};return vt(e.path).reduce((f,c)=>{for(const u of wt(c)){const h=_n(t,u);let d=l?h:h.split("/*",1)[0];d=d.split("/").map(w=>w.startsWith(":")||w.startsWith("*")?w:encodeURIComponent(w)).join("/"),f.push({...a,originalPath:c,pattern:d,matcher:Cn(d,!l,e.matchFilters)})}return f},[])}function In(e,t=0){return{routes:e,score:kn(e[e.length-1])*1e4-t,matcher(n){const s=[];for(let r=e.length-1;r>=0;r--){const i=e[r],o=i.matcher(n);if(!o)return null;s.unshift({...o,route:i})}return s}}}function vt(e){return Array.isArray(e)?e:[e]}function $t(e,t="",n=[],s=[]){const r=vt(e);for(let i=0,o=r.length;i<o;i++){const l=r[i];if(l&&typeof l=="object"){l.hasOwnProperty("path")||(l.path="");const a=Tn(l,t);for(const f of a){n.push(f);const c=Array.isArray(l.children)&&l.children.length===0;if(l.children&&!c)$t(l.children,f.pattern,n,s);else{const u=In([...n],s.length);s.push(u)}n.pop()}}}return n.length?s:s.sort((i,o)=>o.score-i.score)}function Ee(e,t){for(let n=0,s=e.length;n<s;n++){const r=e[n].matcher(t);if(r)return r}return[]}function Rn(e,t,n){const s=new URL(mt),r=L(c=>{const u=e();try{return new URL(u,s)}catch{return console.error(`Invalid path ${u}`),c}},s,{equals:(c,u)=>c.href===u.href}),i=L(()=>r().pathname),o=L(()=>r().search,!0),l=L(()=>r().hash),a=()=>"",f=Ie(o,()=>pt(r()));return{get pathname(){return i()},get search(){return o()},get hash(){return l()},get state(){return t()},get key(){return a()},query:n?n(f):bt(f)}}let H;function Nn(){return H}function Fn(e,t,n,s={}){const{signal:[r,i],utils:o={}}=e,l=o.parsePath||(E=>E),a=o.renderPath||(E=>E),f=o.beforeLeave||gt(),c=pe("",s.base||"");if(c===void 0)throw new Error(`${c} is not a valid base path`);c&&!r().value&&i({value:c,replace:!0,scroll:!1});const[u,h]=F(!1);let d;const w=(E,O)=>{O.value===m()&&O.state===$()||(d===void 0&&h(!0),H=E,d=O,Mt(()=>{d===O&&(b(d.value),x(d.state),y[1](M=>M.filter(J=>J.pending)))}).finally(()=>{d===O&&Dt(()=>{H=void 0,E==="navigate"&&At(d),h(!1),d=void 0})}))},[m,b]=F(r().value),[$,x]=F(r().state),P=Rn(m,$,o.queryWrapper),T=[],y=F([]),k=L(()=>typeof s.transformUrl=="function"?Ee(t(),s.transformUrl(P.pathname)):Ee(t(),P.pathname)),I=()=>{const E=k(),O={};for(let M=0;M<E.length;M++)Object.assign(O,E[M].params);return O},V=o.paramsWrapper?o.paramsWrapper(I,t):bt(I),z={pattern:c,path:()=>c,outlet:()=>null,resolvePath(E){return pe(c,E)}};return B(Ie(r,E=>w("native",E),{defer:!0})),{base:z,location:P,params:V,isRouting:u,renderPath:a,parsePath:l,navigatorFactory:kt,matches:k,beforeLeave:f,preloadRoute:Et,singleFlight:s.singleFlight===void 0?!0:s.singleFlight,submissions:y};function Ct(E,O,M){U(()=>{if(typeof O=="number"){O&&(o.go?o.go(O):console.warn("Router integration does not support relative routing"));return}const J=!O||O[0]==="?",{replace:_e,resolve:Y,scroll:Ce,state:ee}={replace:!1,resolve:!J,scroll:!0,...M},ge=Y?E.resolvePath(O):pe(J&&P.pathname||"",O);if(ge===void 0)throw new Error(`Path '${O}' is not a routable path`);if(T.length>=An)throw new Error("Too many redirects");const qe=m();(ge!==qe||ee!==$())&&(wn||f.confirm(ge,M)&&(T.push({value:qe,replace:_e,scroll:Ce,state:$()}),w("navigate",{value:ge,state:ee})))})}function kt(E){return E=E||ae(Me)||z,(O,M)=>Ct(E,O,M)}function At(E){const O=T[0];O&&(i({...E,replace:O.replace,scroll:O.scroll}),T.length=0)}function Et(E,O){const M=Ee(t(),E.pathname),J=H;H="preload";for(let _e in M){const{route:Y,params:Ce}=M[_e];Y.component&&Y.component.preload&&Y.component.preload();const{preload:ee}=Y;O&&ee&&lt(n(),()=>ee({params:Ce,location:{pathname:E.pathname,search:E.search,hash:E.hash,query:pt(E),state:null,key:""},intent:"preload"}))}H=J}}function jn(e,t,n,s){const{base:r,location:i,params:o}=e,{pattern:l,component:a,preload:f}=s().route,c=L(()=>s().path);a&&a.preload&&a.preload();const u=f?f({params:o,location:i,intent:H||"initial"}):void 0;return{parent:t,pattern:l,path:c,outlet:()=>a?p(a,{params:o,location:i,data:u,get children(){return n()}}):n(),resolvePath(d){return pe(r.path(),d,c())}}}const Dn=e=>t=>{const{base:n}=t,s=at(()=>t.children),r=L(()=>$t(s(),t.base||""));let i;const o=Fn(e,r,()=>i,{base:n,singleFlight:t.singleFlight,transformUrl:t.transformUrl});return e.create&&e.create(o),p(yt.Provider,{value:o,get children(){return p(Mn,{routerState:o,get root(){return t.root},get preload(){return t.rootPreload||t.rootLoad},get children(){return[Z(()=>(i=Ne())&&null),p(Bn,{routerState:o,get branches(){return r()}})]}})}})};function Mn(e){const t=e.routerState.location,n=e.routerState.params,s=L(()=>e.preload&&U(()=>{e.preload({params:n,location:t,intent:Nn()||"initial"})}));return p(R,{get when(){return e.root},keyed:!0,get fallback(){return e.children},children:r=>p(r,{params:n,location:t,get data(){return s()},get children(){return e.children}})})}function Bn(e){const t=[];let n;const s=L(Ie(e.routerState.matches,(r,i,o)=>{let l=i&&r.length===i.length;const a=[];for(let f=0,c=r.length;f<c;f++){const u=i&&i[f],h=r[f];o&&u&&h.route.key===u.route.key?a[f]=o[f]:(l=!1,t[f]&&t[f](),G(d=>{t[f]=d,a[f]=jn(e.routerState,a[f-1]||e.routerState.base,tt(()=>s()[f+1]),()=>{const w=e.routerState.matches();return w[f]??w[0]})}))}return t.splice(r.length).forEach(f=>f()),o&&l?o:(n=a[0],a)}));return tt(()=>s()&&n)()}const tt=e=>()=>p(R,{get when(){return e()},keyed:!0,children:t=>p(Me.Provider,{value:t,get children(){return t.outlet()}})});function Un([e,t],n,s){return[e,s?r=>t(s(r)):t]}function Vn(e){let t=!1;const n=r=>typeof r=="string"?{value:r}:r,s=Un(F(n(e.get()),{equals:(r,i)=>r.value===i.value&&r.state===i.state}),void 0,r=>(!t&&e.set(r),C.registry&&!C.done&&(C.done=!0),r));return e.init&&le(e.init((r=e.get())=>{t=!0,s[1](n(r)),t=!1})),Dn({signal:s,create:e.create,utils:e.utils})}function Wn(e,t,n){return e.addEventListener(t,n),()=>e.removeEventListener(t,n)}function Kn(e,t){const n=e&&document.getElementById(e);n?n.scrollIntoView():t&&window.scrollTo(0,0)}const qn=new Map;function zn(e=!0,t=!1,n="/_server",s){return r=>{const i=r.base.path(),o=r.navigatorFactory(r.base);let l,a;function f(m){return m.namespaceURI==="http://www.w3.org/2000/svg"}function c(m){if(m.defaultPrevented||m.button!==0||m.metaKey||m.altKey||m.ctrlKey||m.shiftKey)return;const b=m.composedPath().find(k=>k instanceof Node&&k.nodeName.toUpperCase()==="A");if(!b||t&&!b.hasAttribute("link"))return;const $=f(b),x=$?b.href.baseVal:b.href;if(($?b.target.baseVal:b.target)||!x&&!b.hasAttribute("state"))return;const T=(b.getAttribute("rel")||"").split(/\s+/);if(b.hasAttribute("download")||T&&T.includes("external"))return;const y=$?new URL(x,document.baseURI):new URL(x);if(!(y.origin!==window.location.origin||i&&y.pathname&&!y.pathname.toLowerCase().startsWith(i.toLowerCase())))return[b,y]}function u(m){const b=c(m);if(!b)return;const[$,x]=b,P=r.parsePath(x.pathname+x.search+x.hash),T=$.getAttribute("state");m.preventDefault(),o(P,{resolve:!1,replace:$.hasAttribute("replace"),scroll:!$.hasAttribute("noscroll"),state:T?JSON.parse(T):void 0})}function h(m){const b=c(m);if(!b)return;const[$,x]=b;s&&(x.pathname=s(x.pathname)),r.preloadRoute(x,$.getAttribute("preload")!=="false")}function d(m){clearTimeout(l);const b=c(m);if(!b)return a=null;const[$,x]=b;a!==$&&(s&&(x.pathname=s(x.pathname)),l=setTimeout(()=>{r.preloadRoute(x,$.getAttribute("preload")!=="false"),a=$},20))}function w(m){if(m.defaultPrevented)return;let b=m.submitter&&m.submitter.hasAttribute("formaction")?m.submitter.getAttribute("formaction"):m.target.getAttribute("action");if(!b)return;if(!b.startsWith("https://action/")){const x=new URL(b,mt);if(b=r.parsePath(x.pathname+x.search),!b.startsWith(n))return}if(m.target.method.toUpperCase()!=="POST")throw new Error("Only POST forms are supported for Actions");const $=qn.get(b);if($){m.preventDefault();const x=new FormData(m.target,m.submitter);$.call({r,f:m.target},m.target.enctype==="multipart/form-data"?x:new URLSearchParams(x))}}ue(["click","submit"]),document.addEventListener("click",u),e&&(document.addEventListener("mousemove",d,{passive:!0}),document.addEventListener("focusin",h,{passive:!0}),document.addEventListener("touchstart",h,{passive:!0})),document.addEventListener("submit",w),le(()=>{document.removeEventListener("click",u),e&&(document.removeEventListener("mousemove",d),document.removeEventListener("focusin",h),document.removeEventListener("touchstart",h)),document.removeEventListener("submit",w)})}}function Hn(e){const t=()=>{const s=window.location.pathname.replace(/^\/+/,"/")+window.location.search,r=window.history.state&&window.history.state._depth&&Object.keys(window.history.state).length===1?void 0:window.history.state;return{value:s+window.location.hash,state:r}},n=gt();return Vn({get:t,set({value:s,replace:r,scroll:i,state:o}){r?window.history.replaceState(yn(o),"",s):window.history.pushState(o,"",s),Kn(decodeURIComponent(window.location.hash.slice(1)),i),De()},init:s=>Wn(window,"popstate",xn(s,r=>{if(r)return!n.confirm(r);{const i=t();return!n.confirm(i.value,{state:i.state})}})),create:zn(e.preload,e.explicitLinks,e.actionBase,e.transformUrl),utils:{go:s=>window.history.go(s),beforeLeave:n}})(e)}var Gn=_("<a>");function oe(e){e=Je({inactiveClass:"inactive",activeClass:"active"},e);const[,t]=Xt(e,["href","state","class","activeClass","inactiveClass","end"]),n=Pn(()=>e.href),s=On(n),r=xt(),i=L(()=>{const o=n();if(o===void 0)return[!1,!1];const l=X(o.split(/[?#]/,1)[0]).toLowerCase(),a=decodeURI(X(r.pathname).toLowerCase());return[e.end?l===a:a.startsWith(l+"/")||a===l,l===a]});return(()=>{var o=Gn();return gn(o,Je(t,{get href(){return s()||e.href},get state(){return JSON.stringify(e.state)},get classList(){return{...e.class&&{[e.class]:!0},[e.inactiveClass]:!i()[0],[e.activeClass]:i()[0],...t.classList}},link:"",get"aria-current"(){return i()[1]?"page":void 0}}),!1),o})()}function Xn(e){const t=Be(),n=xt(),{href:s,state:r}=e,i=typeof s=="function"?s({navigate:t,location:n}):s;return t(i,{replace:!0,state:r}),null}const[St,Jn]=F(null),[Yn,nt]=F(!1);async function Qn(){const e=await fetch("/api/config");if(!e.ok)throw new Error("Failed to fetch config");return e.json()}async function Zn(){const t=(await Qn()).clerkPublishableKey;if(!t)throw new Error("Clerk publishable key not configured on server");const n=new Pt(t);return await n.load(),Jn(n),nt(!!n.session),n.addListener(s=>{nt(!!s.session)}),n}function Ue(){return St()}function Ve(){return Yn()}async function er(){const e=St();e&&await e.signOut()}function tr(){const[e,t]=F("disconnected"),[n,s]=F([]),[r,i]=F(!1),[o,l]=F(null);let a=null,f=async()=>null,c=0,u=null;const h=3e4,d=new Map;function w(){if(a?.readyState===WebSocket.OPEN||a?.readyState===WebSocket.CONNECTING)return;u&&(clearTimeout(u),u=null),t("connecting"),l(null);const k=`${window.location.protocol==="https:"?"wss:":"ws:"}//${window.location.host}/ws`;console.log("[tunnel] Connecting to",k),a=new WebSocket(k),a.onopen=async()=>{console.log("[tunnel] WebSocket opened, authenticating..."),t("authenticating");const I=await f();if(!I){console.error("[tunnel] No auth token available"),t("error"),l("Not signed in"),a?.close();return}b({type:"pwa_auth",token:I})},a.onmessage=I=>{try{const V=JSON.parse(I.data);m(V)}catch(V){console.error("[tunnel] Failed to parse message:",V)}},a.onclose=I=>{console.log("[tunnel] WebSocket closed:",I.code,I.reason),a=null,e()!=="error"&&t("disconnected"),$()},a.onerror=I=>{console.error("[tunnel] WebSocket error:",I),t("error"),l("Connection failed")}}function m(y){switch(y.type){case"pwa_auth_success":console.log("[tunnel] Authenticated as",y.userId),t("connected"),c=0;break;case"pwa_auth_error":console.error("[tunnel] Auth error:",y.message),t("error"),l(y.message);break;case"server_status":console.log("[tunnel] Server status:",y.connected?"online":"offline"),i(y.connected);break;case"frames_sync":console.log("[tunnel] Frames sync:",y.frames.length,"frames"),s(y.frames);break;case"terminal_opened":{const k=d.get(y.channelId);k&&k.onOpened(y.cols,y.rows);break}case"terminal_data":{const k=d.get(y.channelId);k&&k.onData(atob(y.data));break}case"terminal_close":{const k=d.get(y.channelId);k&&(k.onClose(),d.delete(y.channelId));break}case"terminal_error":{const k=d.get(y.channelId);k&&(k.onError(y.message),d.delete(y.channelId));break}default:console.log("[tunnel] Unknown message type:",y.type)}}function b(y){a?.readyState===WebSocket.OPEN?a.send(JSON.stringify(y)):console.warn("[tunnel] Cannot send, WebSocket not open")}function $(){if(e()==="error"&&o()?.includes("sign"))return;const y=Math.min(1e3*Math.pow(2,c),h);c++,console.log(`[tunnel] Reconnecting in ${y}ms (attempt ${c})`),u=setTimeout(w,y)}function x(y,k){const I=crypto.randomUUID();return d.set(I,{onData:k.onData,onOpened:k.onOpened||(()=>{}),onClose:k.onClose||(()=>{}),onError:k.onError||(()=>{})}),b({type:"terminal_open",channelId:I,frameId:y}),{write:V=>{b({type:"terminal_data",channelId:I,data:btoa(V)})},resize:(V,z)=>{b({type:"terminal_resize",channelId:I,cols:V,rows:z})},close:()=>{b({type:"terminal_close",channelId:I}),d.delete(I)}}}function P(y){f=y}function T(){u&&(clearTimeout(u),u=null),a?.close(),a=null,t("disconnected")}return typeof document<"u"&&(document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"&&e()==="disconnected"&&(console.log("[tunnel] App became visible, reconnecting..."),w())}),window.addEventListener("online",()=>{(e()==="disconnected"||e()==="error")&&(console.log("[tunnel] Network online, reconnecting..."),c=0,w())}),window.addEventListener("offline",()=>{console.log("[tunnel] Network offline"),t("disconnected")})),{state:e,frames:n,serverConnected:r,error:o,connect:w,disconnect:T,openTerminal:x,setTokenGetter:P}}const N=G(()=>tr());var nr=_('<header class="sticky top-0 z-10 bg-slate-800 border-b border-slate-700"><div class="flex items-center justify-between px-4 py-3"><div class="flex items-center gap-3">'),rr=_('<div class="flex items-center gap-2 text-sm text-slate-400"><span></span><span class="hidden sm:inline">'),sr=_('<svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"></path><circle cx=12 cy=12 r=3>');function We(){return(()=>{var e=nr(),t=e.firstChild,n=t.firstChild;return v(t,p(oe,{href:"/",class:"text-lg font-semibold text-white",children:"Optagon"}),n),v(n,p(ir,{}),null),v(n,p(oe,{href:"/settings",class:"p-2 text-slate-400 hover:text-white transition-colors","aria-label":"Settings",get children(){return p(or,{})}}),null),e})()}function ir(){const e=N.state,t=N.serverConnected,n=()=>{const r=e();return r==="connected"?t()?"Online":"Server offline":r==="connecting"||r==="authenticating"?"Connecting...":r==="error"?"Error":"Offline"},s=()=>{const r=e();return r==="connected"&&t()?"bg-green-500":r==="connected"&&!t()?"bg-yellow-500":r==="connecting"||r==="authenticating"?"bg-blue-500 status-pulse":r==="error"?"bg-red-500":"bg-slate-500"};return(()=>{var r=rr(),i=r.firstChild,o=i.nextSibling;return v(o,n),B(()=>fe(i,`w-2 h-2 rounded-full ${s()}`)),r})()}function or(){return sr()}var lr=_('<div class="flex items-start justify-between"><div class="flex items-center gap-2"><span></span><h3 class="font-medium text-white">'),ar=_('<p class="mt-1 text-sm text-slate-400 truncate">'),cr=_('<div class="mt-3 flex items-center gap-3 text-xs text-slate-500"><span>'),ur=_("<span> port");function fr(e){const t=()=>e.frame,n=()=>{switch(t().status){case"running":return"bg-green-500";case"stopped":return"bg-slate-500";case"error":return"bg-red-500";default:return"bg-slate-500"}},s=()=>{switch(t().status){case"running":return"Running";case"stopped":return"Stopped";case"error":return"Error";default:return"Unknown"}};return p(oe,{get href(){return`/frame/${t().id}`},class:"block p-4 bg-slate-800 rounded-lg border border-slate-700 hover:border-slate-600 transition-colors",get children(){return[(()=>{var r=lr(),i=r.firstChild,o=i.firstChild,l=o.nextSibling;return v(l,()=>t().name),B(()=>fe(o,`w-2 h-2 rounded-full ${n()}`)),r})(),(()=>{var r=ar();return v(r,()=>t().workspace),r})(),(()=>{var r=cr(),i=r.firstChild;return v(i,s),v(r,(()=>{var o=Z(()=>t().ports.length>0);return()=>o()&&(()=>{var l=ur(),a=l.firstChild;return v(l,()=>t().ports.length,a),v(l,()=>t().ports.length!==1?"s":"",null),l})()})(),null),r})()]}})}var dr=_('<div class="p-4 bg-red-900/30 border border-red-800 rounded-lg"><h2 class="font-medium text-red-300">Connection Error</h2><p class="mt-1 text-sm text-red-400"></p><button class="mt-3 px-4 py-2 bg-red-800 hover:bg-red-700 text-white rounded transition-colors">Retry'),hr=_('<div class="p-4 bg-slate-800 border border-slate-700 rounded-lg"><div class="flex items-center gap-3"><div class="w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"></div><span class=text-slate-300>Connecting to server...'),gr=_(`<div class="p-4 bg-yellow-900/30 border border-yellow-800 rounded-lg"><h2 class="font-medium text-yellow-300">Server Offline</h2><p class="mt-1 text-sm text-yellow-400">Your Optagon server at home isn't connected. Make sure it's running and has internet access.`),mr=_('<div class="grid gap-3">'),pr=_("<div class=space-y-4>"),br=_('<div class="text-center py-12"><div class="text-4xl mb-4">ðŸ“¦</div><h2 class="text-lg font-medium text-slate-300">No frames yet</h2><p class="mt-1 text-sm text-slate-500">Create a frame on your server to get started</p><code class="mt-4 inline-block px-3 py-2 bg-slate-800 rounded text-sm text-slate-400">optagon frame create my-project');function wr(){const e=N.frames,t=N.state,n=N.serverConnected,s=N.error;return(()=>{var r=pr();return v(r,p(R,{get when(){return t()==="error"},get children(){var i=dr(),o=i.firstChild,l=o.nextSibling,a=l.nextSibling;return v(l,s),a.$$click=()=>N.connect(),i}}),null),v(r,p(R,{get when(){return t()==="connecting"||t()==="authenticating"},get children(){return hr()}}),null),v(r,p(R,{get when(){return Z(()=>t()==="connected")()&&!n()},get children(){return gr()}}),null),v(r,p(R,{get when(){return Z(()=>t()==="connected")()&&n()},get children(){return p(R,{get when(){return e().length>0},get fallback(){return p(yr,{})},get children(){var i=mr();return v(i,p(Yt,{get each(){return e()},children:o=>p(fr,{frame:o})})),i}})}}),null),r})()}function yr(){return br()}ue(["click"]);var xr=Ot(),vr=Lt(),$r=Tt(),Sr=_('<div class="px-4 py-2 bg-slate-800 text-slate-400 text-sm">Connecting to terminal...'),_r=_('<div class="px-4 py-2 bg-red-900/50 text-red-300 text-sm">'),Cr=_('<div class="flex flex-col h-full"><div class="flex-1 min-h-0 bg-terminal-bg"style=padding:8px></div><div class="md:hidden p-2 bg-slate-800 border-t border-slate-700"><input type=text class="w-full bg-slate-900 text-white px-3 py-2 rounded border border-slate-700 focus:border-blue-500 focus:outline-none"placeholder="Type here for mobile input..."autocomplete=off autocapitalize=off autocorrect=off>');function kr(e){let t,n,s,r,i;const[o,l]=F("connecting"),[a,f]=F(null);Re(()=>{if(!t)return;s=new xr.Terminal({fontFamily:"JetBrains Mono, Menlo, Monaco, monospace",fontSize:14,lineHeight:1.2,cursorBlink:!0,cursorStyle:"block",allowProposedApi:!0,theme:{background:"#0f172a",foreground:"#e2e8f0",cursor:"#e2e8f0",selectionBackground:"rgba(255, 255, 255, 0.3)",black:"#1e293b",red:"#f87171",green:"#4ade80",yellow:"#facc15",blue:"#60a5fa",magenta:"#c084fc",cyan:"#22d3ee",white:"#f1f5f9",brightBlack:"#475569",brightRed:"#fca5a5",brightGreen:"#86efac",brightYellow:"#fde047",brightBlue:"#93c5fd",brightMagenta:"#d8b4fe",brightCyan:"#67e8f9",brightWhite:"#ffffff"}}),r=new vr.FitAddon,s.loadAddon(r);try{const d=new $r.WebglAddon;d.onContextLoss(()=>{d.dispose()}),s.loadAddon(d)}catch{console.warn("[terminal] WebGL addon not available, using canvas")}s.open(t),setTimeout(()=>{r?.fit()},0),i=N.openTerminal(e.frameId,{onData:d=>{s?.write(d)},onOpened:(d,w)=>{l("connected"),s&&i?.resize(s.cols,s.rows)},onClose:()=>{s?.write(`\r
\x1B[31m[Terminal closed]\x1B[0m\r
`)},onError:d=>{l("error"),f(d),s?.write(`\r
\x1B[31m[Error: ${d}]\x1B[0m\r
`)}}),s.onData(d=>{i?.write(d)});const h=new ResizeObserver(()=>{r&&s&&(r.fit(),i?.resize(s.cols,s.rows))});h.observe(t),t.addEventListener("click",()=>{s?.focus()}),le(()=>{i?.close(),h.disconnect(),s?.dispose()})});const c=h=>{const d=h.currentTarget,w=d.value;w&&(i?.write(w),d.value="")},u=h=>{h.key==="Enter"?(i?.write("\r"),h.preventDefault()):h.key==="Backspace"&&(i?.write(""),h.preventDefault())};return(()=>{var h=Cr(),d=h.firstChild,w=d.nextSibling,m=w.firstChild;v(h,p(R,{get when(){return o()==="connecting"},get children(){return Sr()}}),d),v(h,p(R,{get when(){return o()==="error"},get children(){var x=_r();return v(x,()=>a()||"Terminal error"),x}}),d);var b=t;typeof b=="function"?ve(b,d):t=d,m.$$keydown=u,m.$$input=c;var $=n;return typeof $=="function"?ve($,m):n=m,se(m,"spellcheck",!1),h})()}ue(["input","keydown"]);var Ar=_('<p class="text-xs text-slate-500 truncate max-w-[200px]">'),Er=_('<div class="flex flex-col h-screen"><header class="flex-none bg-slate-800 border-b border-slate-700"><div class="flex items-center justify-between px-4 py-3"><div class="flex items-center gap-3"><div><h1 class="font-medium text-white"></h1></div></div><div class="flex items-center gap-2"></div></div></header><div class="flex-1 min-h-0">'),Pr=_('<div class="flex items-center justify-center h-full"><div class=text-center><p class=text-slate-400>Frame not found'),Or=_('<div class="flex items-center justify-center h-full"><div class=text-center><p class=text-slate-400>Frame is not running</p><p class="mt-2 text-sm text-slate-500">Start the frame from your server to access the terminal</p><code class="mt-4 inline-block px-3 py-2 bg-slate-800 rounded text-sm text-slate-400">optagon frame start '),Lr=_('<div class="flex items-center gap-2 text-xs text-slate-400"><span></span><span>'),Tr=_('<svg xmlns=http://www.w3.org/2000/svg width=20 height=20 viewBox="0 0 24 24"fill=none stroke=currentColor stroke-width=2 stroke-linecap=round stroke-linejoin=round><path d="m15 18-6-6 6-6">');function Ir(){const e=Ln(),t=L(()=>N.frames().find(n=>n.id===e.id));return(()=>{var n=Er(),s=n.firstChild,r=s.firstChild,i=r.firstChild,o=i.firstChild,l=o.firstChild,a=i.nextSibling,f=s.nextSibling;return v(i,p(oe,{href:"/",class:"p-1 text-slate-400 hover:text-white transition-colors","aria-label":"Back to frame list",get children(){return p(Nr,{})}}),o),v(l,()=>t()?.name||"Terminal"),v(o,p(R,{get when(){return t()},get children(){var c=Ar();return v(c,()=>t().workspace),c}}),null),v(a,p(R,{get when(){return t()},get children(){return p(Rr,{get status(){return t().status}})}})),v(f,p(R,{get when(){return t()},get fallback(){return(()=>{var c=Pr(),u=c.firstChild;return u.firstChild,v(u,p(oe,{href:"/",class:"mt-4 inline-block text-blue-400 hover:underline",children:"Back to frames"}),null),c})()},get children(){return p(R,{get when(){return t().status==="running"},get fallback(){return(()=>{var c=Or(),u=c.firstChild,h=u.firstChild,d=h.nextSibling,w=d.nextSibling;return w.firstChild,v(w,()=>t().name,null),c})()},get children(){return p(kr,{get frameId(){return e.id}})}})}})),n})()}function Rr(e){const t=()=>{switch(e.status){case"running":return"bg-green-500";case"stopped":return"bg-slate-500";case"error":return"bg-red-500"}},n=()=>{switch(e.status){case"running":return"Running";case"stopped":return"Stopped";case"error":return"Error"}};return(()=>{var s=Lr(),r=s.firstChild,i=r.nextSibling;return v(i,n),B(()=>fe(r,`w-2 h-2 rounded-full ${t()}`)),s})()}function Nr(){return Tr()}var Fr=_('<div class="mb-4 p-4 bg-red-900/30 border border-red-800 rounded-lg"><p class="text-sm text-red-300">'),jr=_('<div class="min-h-screen flex flex-col items-center justify-center p-4 bg-slate-900"><div class="w-full max-w-md"><div class="text-center mb-8"><h1 class="text-3xl font-bold text-white">Optagon</h1><p class="mt-2 text-slate-400">Sign in to access your development frames</p></div><div class=clerk-container>');function Dr(){const e=Be();let t;const[n,s]=F(null);return Re(()=>{if(Ve()){N.connect(),e("/",{replace:!0});return}const r=Ue();return r&&t&&r.mountSignIn(t,{afterSignInUrl:"/",signUpUrl:"/sign-up",appearance:{baseTheme:void 0,variables:{colorPrimary:"#3b82f6",colorBackground:"#1e293b",colorText:"#e2e8f0",colorInputBackground:"#0f172a",colorInputText:"#e2e8f0",borderRadius:"0.5rem"},elements:{rootBox:"w-full",card:"bg-slate-800 shadow-xl",headerTitle:"text-white",headerSubtitle:"text-slate-400",socialButtonsBlockButton:"bg-slate-700 hover:bg-slate-600 text-white border-slate-600",formFieldLabel:"text-slate-300",formFieldInput:"bg-slate-900 border-slate-700 text-white",footerActionLink:"text-blue-400 hover:text-blue-300",identityPreviewText:"text-slate-300",identityPreviewEditButton:"text-blue-400"}}}),r?.addListener(i=>{i.session&&(N.connect(),e("/",{replace:!0}))}),()=>{r?.unmountSignIn(t)}}),(()=>{var r=jr(),i=r.firstChild,o=i.firstChild,l=o.nextSibling;v(i,p(R,{get when(){return n()},get children(){var f=Fr(),c=f.firstChild;return v(c,n),f}}),l);var a=t;return typeof a=="function"?ve(a,l):t=l,r})()}var Mr=_('<img alt class="w-12 h-12 rounded-full">'),Br=_('<div class="flex items-center gap-4"><div><p class="font-medium text-white"></p><p class="text-sm text-slate-400">'),Ur=_('<button class="mt-4 w-full px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded transition-colors">Reconnect'),Vr=_('<main class="p-4 max-w-lg mx-auto"><h1 class="text-xl font-semibold text-white mb-6">Settings</h1><section class=mb-8><h2 class="text-sm font-medium text-slate-400 uppercase tracking-wider mb-3">Account</h2><div class="bg-slate-800 rounded-lg border border-slate-700 p-4"><button class="mt-4 w-full px-4 py-2 bg-slate-700 hover:bg-slate-600 text-white rounded transition-colors">Sign Out</button></div></section><section class=mb-8><h2 class="text-sm font-medium text-slate-400 uppercase tracking-wider mb-3">Connection</h2><div class="bg-slate-800 rounded-lg border border-slate-700 p-4"><div class="flex items-center justify-between"><span class=text-slate-300>Status</span></div><div class="mt-3 flex items-center justify-between"><span class=text-slate-300>Server</span><span class="text-slate-400 text-sm"></span></div><div class="mt-3 flex items-center justify-between"><span class=text-slate-300>Frames</span><span class="text-slate-400 text-sm"> available</span></div></div></section><section><h2 class="text-sm font-medium text-slate-400 uppercase tracking-wider mb-3">About</h2><div class="bg-slate-800 rounded-lg border border-slate-700 p-4"><div class="flex items-center justify-between"><span class=text-slate-300>Version</span><span class="text-slate-400 text-sm">0.1.0</span></div><div class=mt-3><a href=https://github.com/pathoam/optagon target=_blank rel="noopener noreferrer"class="text-blue-400 hover:underline text-sm">View on GitHub'),Wr=_("<span>");function Kr(){const e=Be(),t=Ue(),n=async()=>{N.disconnect(),await er(),e("/sign-in",{replace:!0})},s=()=>t?.user;return[p(We,{}),(()=>{var r=Vr(),i=r.firstChild,o=i.nextSibling,l=o.firstChild,a=l.nextSibling,f=a.firstChild,c=o.nextSibling,u=c.firstChild,h=u.nextSibling,d=h.firstChild;d.firstChild;var w=d.nextSibling,m=w.firstChild,b=m.nextSibling,$=w.nextSibling,x=$.firstChild,P=x.nextSibling,T=P.firstChild;return v(a,p(R,{get when(){return s()},get children(){var y=Br(),k=y.firstChild,I=k.firstChild,V=I.nextSibling;return v(y,p(R,{get when(){return s()?.imageUrl},get children(){var z=Mr();return B(()=>se(z,"src",s().imageUrl)),z}}),k),v(I,()=>s()?.fullName||s()?.username||"User"),v(V,()=>s()?.primaryEmailAddress?.emailAddress),y}}),f),f.$$click=n,v(d,p(qr,{}),null),v(b,()=>N.serverConnected()?"Connected":"Offline"),v(P,()=>N.frames().length,T),v(h,p(R,{get when(){return N.state()==="disconnected"||N.state()==="error"},get children(){var y=Ur();return y.$$click=()=>N.connect(),y}}),null),r})()]}function qr(){const e=N.state,t=()=>{switch(e()){case"connected":return"bg-green-500/20 text-green-400";case"connecting":case"authenticating":return"bg-blue-500/20 text-blue-400";case"error":return"bg-red-500/20 text-red-400";default:return"bg-slate-500/20 text-slate-400"}},n=()=>{switch(e()){case"connected":return"Connected";case"connecting":return"Connecting";case"authenticating":return"Authenticating";case"error":return"Error";default:return"Disconnected"}};return(()=>{var s=Wr();return v(s,n),B(()=>fe(s,`px-2 py-1 rounded text-xs font-medium ${t()}`)),s})()}ue(["click"]);var zr=_('<div class="flex items-center justify-center min-h-screen"><div class=text-slate-400>Loading...'),Hr=_('<div class="flex items-center justify-center min-h-screen"><div class=text-red-400>Error: '),Gr=_("<main class=p-4>"),Xr=_('<div class="min-h-screen bg-slate-900 text-slate-100">');function rt(){return zr()}function Jr(e){return(()=>{var t=Hr(),n=t.firstChild;return n.firstChild,v(n,()=>e.message,null),t})()}function Ke(e){return p(R,{get when(){return Ve()},get fallback(){return p(Xn,{href:"/sign-in"})},get children(){return e.children}})}function Yr(){return p(Ke,{get children(){return[p(We,{}),(()=>{var e=Gr();return v(e,p(wr,{})),e})()]}})}function Qr(){return p(Ke,{get children(){return p(Ir,{})}})}function Zr(){return p(Ke,{get children(){return[p(We,{}),p(Kr,{})]}})}function es(e){const[t,n]=F(!0),[s,r]=F(null);return Re(async()=>{try{await Zn(),N.setTokenGetter(async()=>{const i=Ue()?.session;return i?i.getToken():null}),Ve()&&N.connect()}catch(i){r(i instanceof Error?i.message:"Failed to initialize")}finally{n(!1)}}),(()=>{var i=Xr();return v(i,p(R,{get when(){return t()},get children(){return p(rt,{})}}),null),v(i,p(R,{get when(){return Z(()=>!t())()&&s()},get children(){return p(Jr,{get message(){return s()}})}}),null),v(i,p(R,{get when(){return Z(()=>!t())()&&!s()},get children(){return p(Zt,{get fallback(){return p(rt,{})},get children(){return e.children}})}}),null),i})()}const ts=[{path:"/",component:Yr},{path:"/frame/:id",component:Qr},{path:"/settings",component:Zr},{path:"/sign-in",component:Dr}],_t=document.getElementById("root");if(!_t)throw new Error("Root element not found");cn(()=>p(Hn,{root:es,children:ts}),_t);
//# sourceMappingURL=index-BQ_nWWsL.js.map
